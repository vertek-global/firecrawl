{"version":3,"file":"index-queue-prometheus.js","sourceRoot":"","sources":["../../../../../src/controllers/v0/admin/index-queue-prometheus.ts"],"names":[],"mappings":";;AAIA,oDAUC;AAbD,gDAA8D;AAC9D,uDAAwE;AAEjE,KAAK,UAAU,oBAAoB,CAAC,GAAY,EAAE,GAAa;IACpE,MAAM,WAAW,GAAG,MAAM,IAAA,oCAAyB,GAAE,CAAC;IACtD,MAAM,kBAAkB,GAAG,MAAM,IAAA,qCAA2B,GAAE,CAAC;IAC/D,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;IAC5C,GAAG,CAAC,IAAI,CAAC;;;+BAGoB,WAAW;iCACT,kBAAkB;CAClD,CAAC,CAAC;AACH,CAAC","sourcesContent":["import type { Request, Response } from \"express\";\nimport { getIndexInsertQueueLength } from \"../../../services\";\nimport { getWebhookInsertQueueLength } from \"../../../services/webhook\";\n\nexport async function indexQueuePrometheus(req: Request, res: Response) {\n  const queueLength = await getIndexInsertQueueLength();\n  const webhookQueueLength = await getWebhookInsertQueueLength();\n  res.setHeader(\"Content-Type\", \"text/plain\");\n  res.send(`\\\n# HELP firecrawl_index_queue_length The number of items in the index insert queue\n# TYPE firecrawl_index_queue_length gauge\nfirecrawl_index_queue_length ${queueLength}\nfirecrawl_webhook_queue_length ${webhookQueueLength}\n`);\n}"]}