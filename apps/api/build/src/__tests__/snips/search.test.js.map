{"version":3,"file":"search.test.js","sourceRoot":"","sources":["../../../../src/__tests__/snips/search.test.ts"],"names":[],"mappings":";;AAAA,+BAAgD;AAEhD,IAAI,QAAkB,CAAC;AAEvB,SAAS,CAAC,KAAK,IAAI,EAAE;IACnB,QAAQ,GAAG,MAAM,IAAA,WAAK,EAAC;QACrB,IAAI,EAAE,QAAQ;QACd,WAAW,EAAE,GAAG;QAChB,OAAO,EAAE,OAAO;KACjB,CAAC,CAAC;AACL,CAAC,EAAE,KAAK,CAAC,CAAC;AAEV,QAAQ,CAAC,cAAc,EAAE,GAAG,EAAE;IAC5B,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,KAAK,IAAI,EAAE;QAChC,MAAM,IAAA,YAAM,EAAC;YACX,KAAK,EAAE,WAAW;SACnB,EAAE,QAAQ,CAAC,CAAC;IACf,CAAC,EAAE,KAAK,CAAC,CAAC;IAEV,EAAE,CAAC,UAAU,CAAC,mBAAmB,EAAE,KAAK,IAAI,EAAE;QAC5C,MAAM,GAAG,GAAG,MAAM,IAAA,YAAM,EAAC;YACvB,KAAK,EAAE,WAAW;YAClB,KAAK,EAAE,CAAC;YACR,aAAa,EAAE;gBACb,OAAO,EAAE,CAAC,UAAU,CAAC;aACtB;YACD,OAAO,EAAE,MAAM;SAChB,EAAE,QAAQ,CAAC,CAAC;QAEb,KAAK,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;YACtB,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;QACrC,CAAC;IACH,CAAC,EAAE,MAAM,CAAC,CAAC;AACb,CAAC,CAAC,CAAC","sourcesContent":["import { search, idmux, Identity } from \"./lib\";\n\nlet identity: Identity;\n\nbeforeAll(async () => {\n  identity = await idmux({\n    name: \"search\",\n    concurrency: 100,\n    credits: 1000000,\n  });\n}, 10000);\n\ndescribe(\"Search tests\", () => {\n  it.concurrent(\"works\", async () => {\n    await search({\n      query: \"firecrawl\"\n    }, identity);\n  }, 60000);\n\n  it.concurrent(\"works with scrape\", async () => {\n    const res = await search({\n      query: \"firecrawl\",\n      limit: 5,\n      scrapeOptions: {\n        formats: [\"markdown\"],\n      },\n      timeout: 120000,\n    }, identity);\n\n    for (const doc of res) {\n      expect(doc.markdown).toBeDefined();\n    }\n  }, 125000);\n});\n"]}